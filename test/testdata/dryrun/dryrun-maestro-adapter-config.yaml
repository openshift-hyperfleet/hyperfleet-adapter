# Adapter deployment configuration for dry-run testing
apiVersion: hyperfleet.redhat.com/v1alpha1
kind: AdapterConfig
metadata:
  name: dryrun-adapter
  labels:
    hyperfleet.io/component: adapter

spec:
  adapter:
    version: "0.1.0"

  clients:
    hyperfleetApi:
      timeout: 10s
      retryAttempts: 3
      retryBackoff: exponential

    broker:
      subscriptionId: "dryrun-sub"
      topic: "cluster-events"

    maestro:
      grpcServerAddress: "localhost:8090"
      
      # HTTPS server address for REST API operations (optional)
      # Environment variable: HYPERFLEET_MAESTRO_HTTP_SERVER_ADDRESS
      httpServerAddress: "http://localhost:8100"
      
      # Source identifier for CloudEvents routing (must be unique across adapters)
      # Environment variable: HYPERFLEET_MAESTRO_SOURCE_ID
      sourceId: "hyperfleet-adapter"
      
      # Client identifier (defaults to sourceId if not specified)
      # Environment variable: HYPERFLEET_MAESTRO_CLIENT_ID
      clientId: "hyperfleet-adapter-client"
      insecure: true
